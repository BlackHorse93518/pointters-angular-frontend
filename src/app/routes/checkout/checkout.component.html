<div id="index_main" class="col-xs-12 col-md-12 padding-0 padding-bottom-60" style="background-color:rgb(249,249,249)">
    <div id="error_popup" class="checkout_popup" (click)="closeErrorPopup()">
        <div class="popup" (click)="$event.stopPropagation()">
            <div class="row">
                <h3 class="col-xs-12 col-md-12 title color-darkgray font-weight-600 text-left margin-bottom-20">Transaction Error</h3>
                <div class="col-xs-12 col-md-12 subtitle">{{transationErrorMessage}}</div>
                <div class="col-xs-12 col-md-12 text-center margin-top-20 margin-bottom-20  confirm_btn">
                    <button class="form-control bg-blue font-px-16 color-text-white font-weight-600 border-none cursor-pointer" style="border-radius:30px; height:40px;" (click)="closeErrorPopup()">
                        <span >Back to Checkout</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="confirm_popup" class="checkout_popup" (click)="closeConfirmPopup()">
        <div class="popup" (click)="$event.stopPropagation()">
            <div class="row">
                <h3 class="col-xs-12 col-md-12 title color-darkgray font-weight-600 text-left margin-bottom-20">Confirm Payment</h3>
                <div class="col-xs-12 col-md-12 subtitle">Please confirm to proceed with payment</div>
                <div class="col-xs-12 col-md-12 text-center margin-top-20 margin-bottom-20  confirm_btn">
                    <button class="form-control bg-blue font-px-16 color-text-white font-weight-600 border-none cursor-pointer" style="border-radius:30px; height:40px;" (click)="confirmOrder()">
                        <span *ngIf="!confirmationOrderProccess">Ok to Proceed</span>
                        <span *ngIf="confirmationOrderProccess">
                            <svg width="17px"  height="17px"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-rolling" style="background: none;vertical-align: sub;">
                                <circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="15" r="37" stroke-dasharray="174.35839227423352 60.119464091411174" transform="rotate(56 50 50)">
                                    <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1.5s" begin="0s" repeatCount="indefinite"></animateTransform>
                                </circle>
                            </svg>
                        </span>
                    </button>
                </div>
                <div class="col-xs-12 col-md-12 back_link">
                    <p class="color-gray margin-0" (click)="closeConfirmPopup()">
                        Back to
                        <span class="color-blue cursor-pointer">Checkout Page</span>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-12 margin-top-30">
                <h4 class="color-darkgray font-weight-600 text-left margin-0">Checkout</h4>
            </div>
            <div class="service_details col-xs-12 col-md-12 margin-top-30" *ngIf="!checkOutData">
                <h4 class="color-darkgray font-weight-600 text-left margin-0">No service selected</h4>
            </div>
            <div class="col-xs-12 col-md-12  margin-top-20" *ngIf="checkOutData">
                <div class="row">
                    <div id="index_sidepanel" class="col-md-6 col-sm-8 col-xs-12">
                        <div class="col-xs-12 col-md-12 padding-0 padding-bottom-60">
                            <div class="service_details" *ngIf="checkOutData.service">
                                <div class="col-xs-12 col-md-12 padding-0">
                                    <div class="col-xs-12 col-md-12 padding-0">
                                        <div class="col-xs-3 col-md-4 padding-0">
                                            <img [src]="checkOutData.service.object.media[0].fileName" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                        </div>
                                        <div class="col-xs-9 col-md-8">
                                            <h4 class="color-darkgray font-weight-600 text-left margin-0">{{checkOutData.service.object.tagline}}</h4>
                                            <p class="color-checkout-price margin-0 font-px-12 margin-top-5" *ngFor="let price_item of checkOutData.service.object.prices">
                                                {{price_item.currencySymbol}}{{price_item.price}} for {{price_item.time}} {{price_item.time > 1 ? price_item.timeUnitOfMeasure + 's' : price_item.timeUnitOfMeasure}}
                                            </p>
                                            <p class="color-gray margin-0 font-px-12 margin-top-5">
                                                <i class="fa fa-map-marker"></i> {{checkOutData.service.object.location[0].country}}, {{checkOutData.service.object.location[0].city}}, {{checkOutData.service.object.location.state}}
                                            </p>
                                            <p class="color-gray margin-0 font-px-12 margin-top-5">
                                                by {{checkOutData.service.seller.firstName+' '+checkOutData.service.seller.lastName}}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-md-12 padding-0 margin-top-20 margin-bottom-20" style="border-bottom:1px solid #e4e4e4;">
                                    <div *ngFor="let price_item of checkOutData.service.object.prices; let i = index" class="col-xs-12 col-md-12 padding-0 margin-top-10 margin-bottom-10">
                                        <div class="col-xs-6 col-md-4 padding-0">
                                            <h4 class="margin-0 font-px-18">
                                                {{price_item.currencySymbol}}{{price_item.price}} / {{price_item.time}} {{price_item.time > 1 ? price_item.timeUnitOfMeasure + 's' : price_item.timeUnitOfMeasure}}
                                            </h4>
                                            <p class="font-px-14 color-gray margin-top-4">{{price_item.description}}</p>
                                        </div>
                                        <div class="col-xs-6 col-md-8 padding-0">
                                            <div class="cursor-pointer checkout_plus_minus checkout_minus" (click)="onChangeBuyCount('down',i);" alt></div>
                                            <p id="text_value_1" class="width-40-px display-inlineBlock text-center font-weight-600 font-em-13" style="color:#484848;">
                                                {{checkOutData.service.buyCount[i]}}
                                            </p>
                                            <div class="cursor-pointer checkout_plus_minus checkout_plus" (click)="onChangeBuyCount('up',i);" alt></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="service_details" *ngIf="checkOutData.customeOffer">
                                <div class="col-xs-12 col-md-12 padding-0">
                                    <div class="col-xs-12 col-md-12 padding-0">
                                      <div class="col-xs-3 col-md-4 padding-0">
                                        <img [src]="checkOutData.customeOffer.object.media[0].fileName" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                      </div>
                                        <div class="col-xs-9 col-md-8">
                                            <h4 class="color-darkgray font-weight-600 text-left margin-0">{{checkOutData.customeOffer.object.description}}</h4>
                                            <p class="color-gray margin-0 font-px-12 margin-top-5">
                                                {{checkOutData.customeOffer.object.currencySymbol}}{{checkOutData.customeOffer.object.price}} for {{checkOutData.customeOffer.object.workDuration}} {{checkOutData.customeOffer.object.workDuration > 1 ? checkOutData.customeOffer.object.workDurationUom
                                                + 's' : checkOutData.customeOffer.object.workDurationUom}}
                                            </p>
                                            <p class="color-gray margin-0 font-px-12 margin-top-3">
                                                <i class="fa fa-map-marker"></i> {{checkOutData.customeOffer.object.location.country}}, {{checkOutData.customeOffer.object.location.city}}, {{checkOutData.customeOffer.object.location.state}}
                                            </p>
                                            <p class="color-gray margin-0 font-px-12 margin-top-3">
                                                by {{checkOutData.customeOffer.object.seller.firstName+' '+checkOutData.customeOffer.object.seller.lastName}}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-xs-12 col-md-12 padding-0 margin-top-20 margin-bottom-20" style="border-bottom:1px solid #e4e4e4;">
                                    <div class="col-xs-12 col-md-12 padding-0 margin-top-10 margin-bottom-10">
                                        <div class="col-xs-6 col-md-4 padding-0">
                                            <h4 class="margin-0 font-px-18">
                                                {{checkOutData.customeOffer.object.currencySymbol}}{{checkOutData.customeOffer.object.price}} / {{checkOutData.customeOffer.object.workDuration}} {{checkOutData.customeOffer.object.workDuration > 1 ? checkOutData.customeOffer.object.workDurationUom +
                                                's' : checkOutData.customeOffer.object.workDurationUom}}
                                            </h4>
                                        </div>
                                        <div class="col-xs-6 col-md-8 padding-0">
                                            <img class="cursor-pointer" (click)="onChangeBuyCount('down');" src="assets/images/icons/minus.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                            <p id="text_value_1" class="width-40-px display-inlineBlock text-center font-weight-600 font-em-13" style="color:#484848;">
                                                {{checkOutData.customeOffer.buyCount}}
                                            </p>
                                            <img class="cursor-pointer" (click)="onChangeBuyCount('up');" src="assets/images/icons/plus.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="service_details" *ngIf="checkOutData.backgroundCheck">
                                <div class="col-xs-12 col-md-12 padding-0">
                                    <div class="col-xs-12 col-md-12 padding-0">
                                        <div class="col-xs-12 col-md-12 padding-0">
                                            <h4 class="color-darkgray font-weight-600 text-left margin-0">
                                                Background check
                                            </h4>
                                            <p class="color-gray margin-0 font-px-12 margin-top-3">
                                                {{checkOutData.backgroundCheck.object.firstName + checkOutData.backgroundCheck.object.middleName + checkOutData.backgroundCheck.object.lastName}}
                                            </p>
                                            <p class="color-gray margin-0 font-px-12 margin-top-3">
                                                Email: {{checkOutData.backgroundCheck.object.email}}
                                                Phone: {{checkOutData.backgroundCheck.object.phone}}
                                                Zipcode: {{checkOutData.backgroundCheck.object.zipcode}}
                                                Birthday: {{checkOutData.backgroundCheck.object.dob}}
                                                Driver license:{{checkOutData.backgroundCheck.object.driverLicenseState+" "+ checkOutData.backgroundCheck.object.driverLicenseNumber}}
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="payment_control" *ngIf="checkOutData">
                                <div id="payment_method" class="col-xs-12 col-md-12 margin-top-30 padding-0">
                                    <!-- <h4 class="color-darkgray font-weight-600 text-left">Payment Method</h4>
                                    <form>
                                        <div id="dropin-container"></div>
                                    </form> -->
                                    <h4 class="color-darkgray font-weight-600 text-left">Payment Methods</h4>
                                    <div class="row" *ngIf="serverErrors">
                                        <div class="col-xs-12 col-md-12 error">{{serverErrors.message}}</div>
                                    </div>
                                    <div class="col-xs-12 col-md-12 padding-0 margin-bottom-25 color-bg-white" style="border:1px solid #e4e4e4; border-radius:3px;" *ngFor="let method of paymentMethods">
                                        <div class="payment_panel row" (click)="editInit(method)">
                                            <div class="col-md-10 col-xs-10">
                                                <img *ngIf="editPayment.editingToken == method.token" class="checkout_image" src="assets/images/icons/checkout_1.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                                <img *ngIf="editPayment.editingToken !== method.token" class="checkout_image" src="assets/images/icons/checkout_0.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                                <p *ngIf="method.cardType" class="shiping_panel_address  color-darkgray display-inlineBlock margin-0 margin-left-5">
                                                    {{method.cardType}} ending with {{'...'+method.last4}}
                                                </p>
                                                <p *ngIf="!method.cardType" class="shiping_panel_address  color-darkgray display-inlineBlock margin-0 margin-left-5">
                                                    {{method.email}}
                                                </p>
                                            </div>
                                            <div class="col-md-2 col-xs-2 text-right payment_image">
                                                <img [src]="method.imageUrl" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-md-12 margin-bottom-25 text-center" style="border:1px solid #e4e4e4;padding: 12px; border-radius:3px; cursor: pointer;" (click)="this.router.navigateByUrl('/setting/payment');">
                                        <div class="add_payment">
                                            <img src="assets/images/icons/ic_payment_black_24px.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                            <p class="color-gray text-center display-inlineBlock margin-bottom-0">Choose another way to pay</p>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="ShippingMethodShow" id="shipping_method" class="col-xs-12 col-md-12 margin-top-40 padding-0">
                                    <h4 class="color-darkgray font-weight-600 text-left">Shipping Method</h4>
                                    <div id="normal_0" onclick="shipping_method(this);" class="cursor-pointer col-xs-12 col-md-12 margin-bottom-5 margin-top-15">
                                        <img class="checkout_image" src="assets/images/icons/checkout_1.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                        <p class="color-darkgray display-inlineBlock margin-0 margin-left-5">Normal</p>
                                    </div>
                                    <div id="normal_1" onclick="shipping_method(this);" class="cursor-pointer col-xs-12 col-md-12 margin-top-5">
                                        <img class="checkout_image" src="assets/images/icons/checkout_0.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                        <p class="color-darkgray display-inlineBlock margin-0 margin-left-5">Expedited</p>
                                    </div>
                                </div>
                                <div id="shipping_address" class="col-xs-12 col-md-12 margin-top-40 padding-0" *ngIf="shipingFrom">
                                    <h4 class="color-darkgray font-weight-600 text-left">Shipping Address</h4>
                                    <p *ngFor="let error of errorServer" [hidden]="!errorServer" class="font-em-12 color-darkgray pull-left margin-0">
                                        {{error.message}}
                                    </p>
                                    <div class="shipAdress_container" *ngFor="let address of shipingList">
                                        <div class="col-xs-12 col-md-12 color-bg-white margin-top-15 margin-bottom-15" style="border:1px solid #e4e4e4; border-radius:3px;">
                                            <div class="shiping_panel cursor-pointer" (click)="selectShiping(address)">
                                                <img *ngIf="selectedShiping == address.id" class="checkout_image" src="assets/images/icons/checkout_1.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                                <img *ngIf="selectedShiping !== address.id" class="checkout_image" src="assets/images/icons/checkout_0.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                                <p class="shiping_panel_address  color-darkgray display-inlineBlock margin-0 margin-left-5">{{address.street1}}</p>
                                                <p class="pull-right margin-0 color-blue font-em-09" alt>
                                                    Edit Address
                                                </p>
                                            </div>
                                            <div class="adress_edit" [hidden]="selectedShiping !== address.id">
                                                <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                    <p class="color-gray margin-bottom-5">Name</p>
                                                    <input type="text" [(ngModel)]="edit.data.name" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                    <span class="error-msg" *ngFor="let error of errorsEdit.name">
                                                        {{error.message}}
                                                    </span>
                                                </div>
                                                <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                    <p class="color-gray margin-bottom-5">Street</p>
                                                    <input type="text" [(ngModel)]="edit.data.street1" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                    <span class="error-msg" *ngFor="let error of errorsEdit.street1">
                                                        {{error.message}}
                                                    </span>
                                                </div>
                                                <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                    <p class="color-gray margin-bottom-5">Street Line 2</p>
                                                    <input type="text" [(ngModel)]="edit.data.street2" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                    <span class="error-msg" *ngFor="let error of errorsEdit.street2">
                                                        {{error.message}}
                                                    </span>
                                                </div>
                                                <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                    <div class="col-xs-6 col-md-6 padding-left-0">
                                                        <p class="color-gray margin-bottom-5">City</p>
                                                        <input type="text" [(ngModel)]="edit.data.city" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                        <span class="error-msg" *ngFor="let error of errorsEdit.city">
                                                            {{error.message}}
                                                        </span>
                                                    </div>
                                                    <div class="col-xs-6 col-md-6 padding-right-0">
                                                        <p class="color-gray margin-bottom-5">State</p>
                                                        <input type="text" [(ngModel)]="edit.data.state" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                        <span class="error-msg" *ngFor="let error of errorsEdit.state">
                                                            {{error.message}}
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                    <div class="col-xs-6 col-md-6 padding-left-0">
                                                        <p class="color-gray margin-bottom-5">Postal Code</p>
                                                        <input type="text" [(ngModel)]="edit.data.zip" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                        <span class="error-msg" *ngFor="let error of errorsEdit.zip">
                                                            {{error.message}}
                                                        </span>
                                                    </div>
                                                    <div class="col-xs-6 col-md-6 padding-right-0 form-group custom-select">
                                                        <p class="color-gray margin-bottom-5">Country</p>
                                                        <select [(ngModel)]="edit.data.country" class="form-control form-control-custom width-100-p height-50-px text-left dropdown-toggle pull-right" style="border-color:#e4e4e4;">
                                                            <option
                                                                *ngFor="let country of countries"
                                                                [value]="country.value"
                                                            >
                                                                {{country.label}}
                                                            </option>
                                                        </select>
                                                        <span class="error-msg" *ngFor="let error of errorsEdit.country">
                                                            {{error.message}}
                                                        </span>
                                                        <i class="fa fa-caret-down pull-right color-mediumgray padding-4 padding-right-10 color-bg-white" style="position:absolute; right:5px; top: 32px; font-size: 18px;"></i>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-md-12 padding-0 margin-top-20 margin-bottom-20">
                                                    <li (click)="deletingShip = address" data-toggle="modal" data-target="#deletDialog" class="display-inlineBlock padding-top-12 margin-right-20">
                                                        <a class="margin-top-40 font-px-14 font-weight-600 color-darkgray text-uppercase" style="border-radius:15px;">
                                                            <span *ngIf="!address.isDeleting" class="margin-top-40 font-px-14 font-weight-600 color-darkgray text-uppercase">
                                                                Delete
                                                            </span>
                                                            <span *ngIf="address.isDeleting">
                                                                <svg width="17px"  height="17px"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-rolling" style="background: none;vertical-align: sub;">
                                                                    <circle cx="50" cy="50" fill="none" stroke="#00B4F1" stroke-width="15" r="37" stroke-dasharray="174.35839227423352 60.119464091411174" transform="rotate(56 50 50)">
                                                                        <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1.5s" begin="0s" repeatCount="indefinite"></animateTransform>
                                                                    </circle>
                                                                </svg>
                                                            </span>
                                                        </a>
                                                    </li>
                                                    <li (click)="editUpdateShip()" class="display-inlineBlock padding-top-12 pull-right">
                                                        <a class="text-uppercase margin-top-40 bg-blue color-text-white font-px-14 font-weight-600 padding-6 padding-left-15 padding-right-15" style="border-radius:15px;">
                                                            <span *ngIf="!edit.isEditProccess">Save</span>
                                                            <span *ngIf="edit.isEditProccess">
                                                                <svg width="17px"  height="17px"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-rolling" style="background: none;vertical-align: sub;">
                                                                    <circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="15" r="37" stroke-dasharray="174.35839227423352 60.119464091411174" transform="rotate(56 50 50)">
                                                                        <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1.5s" begin="0s" repeatCount="indefinite"></animateTransform>
                                                                    </circle>
                                                                </svg>
                                                            </span>
                                                        </a>
                                                    </li>
                                                    <li (click)="resetShiping()" class="display-inlineBlock padding-top-12 pull-right margin-right-20">
                                                        <a class="margin-top-40 font-px-14 font-weight-600 color-darkgray text-uppercase">Cancel</a>
                                                    </li>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="address_2" class="col-xs-12 col-md-12 color-bg-white margin-top-15 margin-bottom-15" style="border:1px solid #e4e4e4; border-radius:3px;">
                                        <div class="shiping_panel cursor-pointer" (click)="selectedShiping = 'shiping_new'">
                                            <img *ngIf="selectedShiping == 'shiping_new'" class="checkout_image" src="assets/images/icons/checkout_1.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                            <img *ngIf="selectedShiping !== 'shiping_new'" class="checkout_image" src="assets/images/icons/checkout_0.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                            <p class="shiping_panel_address color-darkgray display-inlineBlock margin-0 margin-left-5">New address</p>
                                        </div>
                                        <div [hidden]="selectedShiping !== 'shiping_new'" id="address_extension" class="col-xs-12 col-md-12 padding-0 padding-top-20">
                                            <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                <p class="color-gray margin-bottom-5">Name</p>
                                                <input type="text" [(ngModel)]="shiping.name" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                <span class="error-msg" *ngFor="let error of errors.name">
                                                    {{error.message}}
                                                </span>
                                            </div>
                                            <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                <p class="color-gray margin-bottom-5">Street</p>
                                                <input type="text" [(ngModel)]="shiping.street1" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                <span class="error-msg" *ngFor="let error of errors.street1">
                                                    {{error.message}}
                                                </span>
                                            </div>
                                            <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                <p class="color-gray margin-bottom-5">Street Line 2</p>
                                                <input type="text" [(ngModel)]="edit.data.street2" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                <span class="error-msg" *ngFor="let error of errors.street2">
                                                    {{error.message}}
                                                </span>
                                            </div>
                                            <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                <div class="col-xs-6 col-md-6 padding-left-0">
                                                    <p class="color-gray margin-bottom-5">City</p>
                                                    <input type="text" [(ngModel)]="shiping.city" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                    <span class="error-msg" *ngFor="let error of errors.city">
                                                        {{error.message}}
                                                    </span>
                                                </div>
                                                <div class="col-xs-6 col-md-6 padding-right-0">
                                                    <p class="color-gray margin-bottom-5">State</p>
                                                    <input type="text" [(ngModel)]="shiping.state" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                    <span class="error-msg" *ngFor="let error of errors.state">
                                                        {{error.message}}
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-md-12 padding-0 margin-top-20">
                                                <div class="col-xs-6 col-md-6 padding-left-0">
                                                    <p class="color-gray margin-bottom-5">Postal Code</p>
                                                    <input type="text" [(ngModel)]="shiping.zip" class="width-100-p form-control height-50-px boxshadow-none" style="border-color:#e4e4e4;">
                                                    <span class="error-msg" *ngFor="let error of errors.zip">
                                                        {{error.message}}
                                                    </span>
                                                </div>
                                                <div class="col-xs-6 col-md-6 padding-right-0 form-group custom-select">
                                                    <p class="color-gray margin-bottom-5">Country</p>
                                                    <select [(ngModel)]="shiping.country" class="form-control form-control-custom width-100-p height-50-px text-left dropdown-toggle pull-right" style="border-color:#e4e4e4;">
                                                        <option
                                                            *ngFor="let country of countries"
                                                            [value]="country.value"
                                                        >
                                                            {{country.label}}
                                                        </option>
                                                    </select>
                                                    <span class="error-msg" *ngFor="let error of errors.country">
                                                        {{error.message}}
                                                    </span>
                                                    <i class="fa fa-caret-down pull-right color-mediumgray padding-4 padding-right-10 color-bg-white" style="position:absolute; right:5px; top: 32px; font-size: 18px;"></i>
                                                </div>
                                            </div>
                                            <div class="col-xs-12 col-md-12 padding-0 margin-top-20 margin-bottom-20">
                                                <li (click)="saveShip()" class="display-inlineBlock padding-top-12 pull-right">
                                                    <a class="text-uppercase margin-top-40 bg-blue color-text-white font-px-14 font-weight-600 padding-6 padding-left-15 padding-right-15" style="border-radius:15px;">
                                                        <span *ngIf="!isSavingShip">Save</span>
                                                        <span *ngIf="isSavingShip">
                                                            <svg width="17px"  height="17px"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-rolling" style="background: none;vertical-align: sub;">
                                                                <circle cx="50" cy="50" fill="none" stroke="#ffffff" stroke-width="15" r="37" stroke-dasharray="174.35839227423352 60.119464091411174" transform="rotate(56 50 50)">
                                                                    <animateTransform attributeName="transform" type="rotate" calcMode="linear" values="0 50 50;360 50 50" keyTimes="0;1" dur="1.5s" begin="0s" repeatCount="indefinite"></animateTransform>
                                                                </circle>
                                                            </svg>
                                                        </span>
                                                    </a>
                                                </li>
                                                <li (click)="resetShiping()" class="display-inlineBlock padding-top-12 pull-right margin-right-20">
                                                    <a class="margin-top-40 font-px-14 font-weight-600 color-darkgray text-uppercase">Cancel</a>
                                                </li>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="shipping_address" class="col-xs-12 col-md-12 margin-top-40 padding-0" *ngIf="shipingRates">
                                    <h4 class="color-darkgray font-weight-600 text-left">Shipping Rates</h4>
                                    <div class="col-xs-12 col-md-12 color-bg-white margin-top-15 margin-bottom-15" *ngFor="let rate of shipingRates" style="border:1px solid #e4e4e4; border-radius:3px;">
                                        <div class="shiping_panel cursor-pointer row" (click)="selectedShipingRate = rate;recalculateTotalPrice()">
                                            <div class="col-md-9 col-xs-12">
                                                <img *ngIf="selectedShipingRate.id == rate.id" class="checkout_image" src="assets/images/icons/checkout_1.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                                <img *ngIf="selectedShipingRate.id !== rate.id" class="checkout_image" src="assets/images/icons/checkout_0.png" alt=" " onerror="this.src='/assets/images/no-img.jpeg';">
                                                <p class="shiping_panel_address color-darkgray display-inlineBlock margin-0 margin-left-5">{{rate.carrier}} {{rate.service}}</p>
                                            </div>
                                            <div class="col-md-3 col-xs-12 text-right">
                                                <p class="shiping_panel_address color-darkgray display-inlineBlock margin-0 margin-left-5">{{rate.rate}} {{rate.currency}}</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="index_contentarea" class="col-md-6 col-sm-6 col-xs-12">
                        <div *ngIf="checkOutData" class="col-xs-12 col-md-8 col-md-offset-3 color-bg-white padding-30" style="border: 1px solid #EAEAEA; border-radius:3px;">
                            <h4 class="color-darkgray font-weight-600 text-left margin-bottom-20">Order Summary</h4>
                            <div class="col-xs-12 col-md-12 padding-0 padding-top-10 padding-bottom-10" style="border-top:1px solid #eaeaea; border-bottom:1px solid #eaeaea;">
                                <div class="col-xs-12 col-md-12 padding-0 margin-top-10 margin-bottom-10">
                                    <p class="font-em-12 color-darkgray pull-left margin-0">Subtotal</p>
                                    <p class="font-em-12 color-darkgray pull-right margin-0">${{subtotalBuyAmount}}</p>
                                </div>
                                <div class="col-xs-12 col-md-12 padding-0 margin-top-10 margin-bottom-10" *ngIf="selectedShipingRate">
                                    <p *ngIf="selectedShipingRate" class="font-em-12 color-darkgray pull-left margin-0">Shipping Rates</p>
                                    <p *ngIf="selectedShipingRate" class="font-em-12 color-darkgray pull-right margin-0" >
                                        ${{selectedShipingRate.rate}}
                                    </p>
                                </div>
                                <div class="col-xs-12 col-md-12 padding-0 margin-top-10 margin-bottom-10">
                                    <p class="font-em-12 color-darkgray pull-left margin-0">Transaction Fee</p>
                                    <p class="font-em-12 color-darkgray pull-right margin-0">
                                        {{transactionFee.transactionFee}} {{transactionFee.currencyCode}}
                                    </p>
                                </div>
                                <div class="col-xs-12 col-md-12 padding-0 margin-top-10 margin-bottom-10">
                                    <p class="font-em-12 color-darkgray pull-left margin-0">Taxes</p>
                                    <p class="font-em-12 color-darkgray pull-right margin-0">
                                        {{transactionTax.taxAmount}} {{transactionTax.currencyCode}}
                                    </p>
                                </div>
                            </div>
                            <div class="col-xs-12 col-md-12 padding-0 margin-top-20 margin-bottom-20">
                                <p class="font-em-12 color-text-black pull-left margin-0">Total</p>
                                <p class="font-em-12 color-text-black pull-right margin-0">${{totalBuyAmount}}</p>
                            </div>
                            <div class="col-xs-12 col-md-12 padding-0 margin-top-10 margin-bottom-10">
                                <p class="color-gray pull-left margin-0">Total Delivery</p>
                                <p class="color-gray pull-right margin-0" *ngIf="subtotalTimeAmount>=24">{{subtotalTimeAmount/24 | number:'1.1-1' }} days</p>
                                <p class="color-gray pull-right margin-0" *ngIf="subtotalTimeAmount<24">{{subtotalTimeAmount}} hours</p>
                            </div>
                            <div class="col-xs-12 col-md-12 padding-left-0 margin-top-10 margin-bottom-10">
                                <p class="color-blue font-em-11 font-weight-500">
                                    Pointters Additional Terms of Service
                                    <span class="color-darkgray">, and  the</span> Cancellation Policy
                                    <span class="color-darkgray">.</span>
                                </p>
                            </div>
                            <div [ngClass]="{'col-xs-12 col-md-12 padding-0 text-center margin-top-20 margin-bottom-20 cursor-pointer confirm_btn':true,'disabled':!editPayment.editingToken || isEmptyOrder || !(selectedShipingRate || !shipingFrom)}" (click)="openConfirmPopup()">
                            <!--<div [ngClass]="{'col-xs-12 col-md-12 padding-0 text-center margin-top-20 margin-bottom-20 cursor-pointer confirm_btn':true,'disabled':!editPayment.editingToken || isEmptyOrder || !selectedShipingRate }" (click)="openConfirmPopup()">-->

                              <button class="form-control bg-blue font-px-16 color-text-white font-weight-600 border-none" style="border-radius:30px; height:40px;">
                                    <span>Confirm and Pay</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="deletDialog" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content -->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        ×
                    </button>
                    <h4 class="modal-title">Warning!</h4>
                </div>
                <div class="modal-body">
                    <p>
                        Are you sure that you want to delete the shipping address?
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        No
                    </button>
                    <button type="button" class="btn btn-default btn-color-custom" data-dismiss="modal" (click)="modalAccept()">
                        Yes
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div id="deletDialogPaymnet" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content -->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                        ×
                    </button>
                    <h4 class="modal-title">Warning!</h4>
                </div>
                <div class="modal-body">
                    <p>
                        Are you sure that you want to delete the payment method?
                    </p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">
                        No
                    </button>
                    <button type="button" class="btn btn-default btn-color-custom" data-dismiss="modal" (click)="modalAcceptPayment()">
                        Yes
                    </button>
                </div>
            </div>

        </div>
    </div>
</div>
